## Функционал

### Структура сайта
Разработаны следующие страницы:
- Логин
- Главная страница 
  - отображает текущий баланс пользователя и 5 последних операций
  обновление всех данных через указанный в параметре компонента интервал времени в микросекундах 
- История операций 
  - отображает таблицу операций с сортировкой по полю “дата” и поиском по полю “описание”.

### Бэкенд
Через консольную команду (artisan) реализованы следующие инструменты:
- добавление пользователей 
- проведение операций по балансу пользователя, по E-mail (начисление/списание) с указанием описания операции, ограничение операций по "уходу в минус".
- проведения операций по балансу реализовано с использованием Laravel Queues(database).

## Установка и настройка

### Клонируйте данный репозиторий 
    git clone https://github.com/eaborodkin/user-balances.git
### Настройте файл .env
    Сохраните файл .env.example под именем .env
    Отредактируйте значение поля DB_PASSWORD на желаемое
### Установите зависимости PHP с помощью Composer
- Если не установлен, установите [Composer](https://getcomposer.org/)
- Установите все необходимые зависимости командой "composer install"
### Установка зависимостей JS с помощью NPM
- Если не установлен, установите [Node.js](https://nodejs.org)
- Если не установлен, установите [NPM](https://www.npmjs.com/)
- Выполните команду "npm i"
### Запуск приложения в Docker Compose
- Если не установлен, установите [Docker](https://www.docker.com/)
- Выполните запуск приложения командой "sudo docker compose up -d"
- Войдите в консоль контейнера laravel с помощью команды "sudo docker exec -ti laravel bash"
- Выполните следующую команду в контейнере laravel "chmod o+rwx,g+rwx,a+rwx -R storage bootstrap/cache"
- Необходимо сгенерировать ключ приложения с помощью команды "php artisan key:generate"
- Выполните миграции БД с помощью команды в контейнере "php artisan migrate"
- Выполните сборку SPA приложения с помощью команды в контейнере "npm run build"
### Создание нового пользователя
    В консоли выполните команду "php artisan user:create" и следуйте инструкции в консоли.
### Внесение начисления/списания по балансу пользователя
    Для начисления средств на баланс пользователя воспользуйтесь командой по следующему шаблону "php artisan user:balance-operation <E-mail> <Сумма> <Описание>"
    Для списания средств с баланса пользователя воспользуйтесь командой по следующему шаблону "php artisan user:balance-operation <E-mail> <Сумма> --spending <Описание>"
### Выполнение операций в очереди
    В консоли выполните команду "php artisan queue:work" для выполнения задач по операциям по балансу. 
